# 🧪 云同步版测试步骤

## 第一步：本地测试（5分钟）

### 1.1 打开文件

直接双击打开 `index-supabase.html` 文件

或者在浏览器中打开：
```
文件路径：C:\Users\Administrator\Desktop\code\2\password_manager\index-supabase.html
```

### 1.2 注册账号

1. 点击"注册"标签
2. 输入邮箱：`test@example.com`（或你的真实邮箱）
3. 输入密码：`test123456`
4. 确认密码：`test123456`
5. 点击"注册"按钮

**预期结果**：
- ✅ 显示"注册成功！请查收邮箱验证邮件"
- ✅ 自动切换到登录面板

### 1.3 验证邮箱

⚠️ **重要**：Supabase 默认需要邮箱验证

**临时解决方案**（跳过邮箱验证）：
1. 打开 Supabase 控制台：https://supabase.com
2. 进入你的项目
3. 点击左侧 "Authentication" → "Users"
4. 找到刚注册的用户
5. 点击用户，找到 "Email Confirmed" 选项
6. 手动设置为 "Confirmed"

**或者关闭邮箱验证**（推荐）：
1. 在 Supabase 控制台
2. 点击 "Authentication" → "Providers"
3. 找到 "Email"
4. 关闭 "Confirm email" 选项
5. 点击 "Save"

### 1.4 登录

1. 输入邮箱：`test@example.com`
2. 输入密码：`test123456`
3. 点击"登录"按钮

**预期结果**：
- ✅ 显示"登录成功！"
- ✅ 进入主界面
- ✅ 显示用户邮箱
- ✅ 显示"已同步"状态

### 1.5 添加密码

1. 点击"+ 添加新凭证"
2. 填写信息：
   - 网站名称：`淘宝`
   - 用户名：`test@taobao.com`
   - 密码：`taobao123`
   - 备注：`我的淘宝账号`
3. 点击"保存"

**预期结果**：
- ✅ 显示"凭证已添加"
- ✅ 列表中出现新凭证
- ✅ 同步状态显示"已同步"

### 1.6 测试其他功能

**测试显示密码**：
- 点击 👁 按钮
- 密码应该显示出来

**测试复制密码**：
- 点击 📋 按钮
- 显示"密码已复制到剪贴板"

**测试搜索**：
- 在搜索框输入"淘宝"
- 应该只显示淘宝的凭证

**测试编辑**：
- 点击 ✏️ 按钮
- 修改信息
- 点击"保存"

**测试删除**：
- 点击 🗑️ 按钮
- 点击"删除"确认

---

## 第二步：跨设备测试（可选）

### 2.1 推送到 GitHub

```bash
# 推送 supabase-sync 分支
git push origin supabase-sync
```

### 2.2 在 GitHub 上启用 Pages

1. 打开 GitHub 仓库设置
2. 点击 "Pages"
3. 选择 `supabase-sync` 分支
4. 点击 "Save"

### 2.3 在手机上测试

1. 在手机浏览器打开：
   ```
   https://fanyilang.github.io/password_manager/index-supabase.html
   ```

2. 用同一个账号登录

3. 检查是否能看到电脑上添加的密码

---

## 🐛 可能遇到的问题

### 问题1：注册后无法登录

**原因**：邮箱未验证

**解决方案**：
1. 在 Supabase 控制台手动验证用户
2. 或关闭邮箱验证功能（见上面步骤 1.3）

### 问题2：显示"Failed to fetch"

**原因**：网络问题或 API 配置错误

**解决方案**：
1. 检查网络连接
2. 确认 Supabase 项目 URL 正确
3. 确认 anon key 正确
4. 打开浏览器控制台查看详细错误

### 问题3：密码解密失败

**原因**：加密密钥不匹配

**解决方案**：
1. 退出登录
2. 重新登录
3. 确保使用相同的密码

### 问题4：数据库连接失败

**原因**：SQL 未正确执行

**解决方案**：
1. 回到 Supabase 控制台
2. 打开 SQL Editor
3. 重新运行创建表的 SQL（见配置指南）

---

## ✅ 测试检查清单

完成以下测试后打勾：

- [ ] 成功注册账号
- [ ] 成功登录
- [ ] 成功添加凭证
- [ ] 凭证显示在列表中
- [ ] 可以显示/隐藏密码
- [ ] 可以复制密码
- [ ] 可以搜索凭证
- [ ] 可以编辑凭证
- [ ] 可以删除凭证
- [ ] 退出登录正常
- [ ] 重新登录数据还在
- [ ] 导出功能正常

---

## 📞 测试完成后

请告诉我：

1. ✅ **哪些功能正常**
2. ❌ **遇到了什么问题**
3. 💡 **有什么建议**

我会根据你的反馈继续优化！

---

**现在就开始测试吧！** 🚀

打开 `index-supabase.html` 文件，按照上面的步骤一步一步测试！
